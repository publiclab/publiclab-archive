---
node: MapKnitter Annotations: Riffle Data as Map Annotations
author: walkerjeffd
created_at: 2014-08-19 20:23:04 +0000
timestamp: 1408479784
nid: 11064
cid: 10074
uid: 422528
---



[walkerjeffd](../profile/walkerjeffd) replying to: [MapKnitter Annotations: Riffle Data as Map Annotations](../notes/justinmanley/08-19-2014/mapknitter-annotations-riffle-data-as-map-annotations)

----
Yeah, this is awesome, let's talk about this. 

So first, the dataset you have up there is actually not riffle data. It was an example dataset that I was using to show some water quality viz techniques (before we even had a riffle to collect data with). So that data came from the Mystic River Watershed Association (MyRWA) using more 'traditional' sampling strategies (they go out with a commercial probe to measure temperature/conductivity, and they also collect samples in bottles that are sent to the lab for analyzing nutrients). So it actually has far more variables than the riffle (currently) measures.

But we now have real riffle data to use (yay!), so I think we should probably ignore that dataset (sorry if it was confusing being on the open water wiki page). 

So there's basically two types of datasets that could be generated by the riffle.

1. spatial data where each measurement is associated with a unique lat/lon. so we drag a riffle around and collect measurements at different locations. this is what I did with the [kayak deployment](https://github.com/walkerjeffd/riffle-ito-apps/blob/master/analyses/20140807_kayak/index.md).
2. temporal data at a single location, which is what [@mathew](/profile/mathew) is referring to. so we leave a riffle in one location and record a long time series. This is what we did with the "cambridge deployment", which isn't on PL yet, but you can see my write up [on github](https://github.com/walkerjeffd/riffle-ito-apps/blob/master/analyses/20140725_cambridge/index.md)

So one thing to note is that the riffle does not collect GPS coordinates itself, so the data file that we download from the riffle only has the timestamp and sensor readings. For the kayak deployment, I used a separate arduino with a GPS shield to log my location as I paddled around. So I had two files, [one from the riffle](https://github.com/walkerjeffd/riffle-ito-apps/blob/master/analyses/20140807_kayak/data/LOGGER22.CSV), and [one from the GPS](https://github.com/walkerjeffd/riffle-ito-apps/blob/master/analyses/20140807_kayak/data/GPSLOG02.CSV). Then in my analysis write up, I merged the two based on the timestamps. So if its useful, I can spit out a single dataset that has the riffle data combined with the lat/lon, which you could use for the map.

If you want to just work with temporal data (at a fixed point), you could start with the cambridge deployment data, which is [here](https://github.com/walkerjeffd/riffle-ito-apps/tree/master/analyses/20140725_cambridge/data), see Riffle1 and Riffle2 cause we had two riffles at the same location. Riffle 1 we trust more, but Riffle 2 had conductivity. These were both located at a USGS gage, so you can get the lat/lon from this [USGS page](http://waterdata.usgs.gov/ma/nwis/uv/?site_no=01104455).

[@donblair](/profile/donblair) and I are working on a new website that will be hosted on github where it'll be easier to find and download all of the riffle data. sometime in the future we're planning to have a web-based database with API so you could (in theory) connect mapknitter to the riffle database directly. but this is a ways in the future. for now, just try using those csv files.  

[@donblair](/profile/donblair) - we should probably update the open water wiki page to add some real riffle data now that we have it.