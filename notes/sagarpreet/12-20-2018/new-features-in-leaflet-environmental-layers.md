---
title: "New Features in Leaflet-Environmental Layers Library"\ntagnames: 'pollution, leaflet, weather, geographic-features, location:blurred, lon:77, lat:23, leaflet-environmental-layers'
author: sagarpreet
path: /notes/sagarpreet/12-20-2018/new-features-in-leaflet-environmental-layers.md
nid: 17978
uid: 516343

---

![](https://publiclab.org/public/system/images/photos/000/028/462/original/spinner-gif.gif)

# New Features in Leaflet-Environmental Layers Library

by [sagarpreet](../profile/sagarpreet) | December 20, 2018 06:38

December 20, 2018 06:38 | Tags: [pollution](../tag/pollution), [leaflet](../tag/leaflet), [weather](../tag/weather), [geographic-features](../tag/geographic-features), [location:blurred](../tag/location:blurred), [lon:77](../tag/lon:77), [lat:23](../tag/lat:23), [leaflet-environmental-layers](../tag/leaflet-environmental-layers)

----

There are many new features and layers added to Leaflet-Environmental-Layers library and these new features will be soon LIVE on PublicLab and Mapknitter .

**List of new updates :**

### Sharing of Maps with preloaded layers using URL :

Suppose you want to share a map at latitude 44.770 and longitude -90.483 and at zoom level 7 with overlay layers of mapknitter and skytruth-alerts to be active , you can share URL (copy it from the browser's address bar itself ! ) :

[https://publiclab.github.io/leaflet-environmental-layers/example/index.html#7/44.770/-90.483/BL2-STruth-MapK](https://publiclab.github.io/leaflet-environmental-layers/example/index.html#7/44.770/-90.483/BL2-STruth-MapK)

Here BL2 = BaseLayer2

STruth = SkyTruth Layer

MapK = MapKnitter Layer

[![Screenshot_2018-12-20_at_11.33.51_AM.png](/i/28455)](/i/28455)

_Screenshot of map instance generated by above link ._

### Introduction of Spinner while layer is being loaded :

Earlier we had no idea whether the layer is getting loaded or has already being loaded . To solve this ambiguity we have introduced a layer which will come automatically when new data is being getting fetched .

[![spinner-gif.gif](/i/28457)](/i/28457)

_GIF showing spinner in action !_

### PurpleAir-Layer works smoothly now :

In the initial versions of LEL library , adding purple air layer would cause the map to lag immensely . Addition of panning and zooming listeners to fetch only the data we want at the moment has resulted in smooth loading of this layer .

[![Screenshot_2018-12-20_at_11.45.47_AM.png](/i/28458)](/i/28458)

### New button to choose layers :

The earlier button to choose overlay layers was not clear enough to describe its use . Often new user to the website would miss the earlier version button .
Using @warrens prototype , we came up with this :)

[![Screenshot_2018-12-06_at_1.11.32_AM.png](/i/28459)](/i/28459)

### Share your Location on Public Lab :

We encourage people to share their location on Public Lab and we do not take any location related information from user without their consent .
Sharing Location will help us give you a view on maps which will be personalized to only you , hence helping you to easily study your vicinity !

[![Screenshot_2018-12-20_at_12.23.25_PM.png](/i/28463)](/i/28463)

### New Layers :

Following layers have been added :

1.) Indigenous Lands **Languages** Layer.

2.) Indigenous Lands **Territories** Layer.

3.) Indigenous Lands **Treaties** Layer.

4.) Air Quality Index Layer.

5.) Wisconsin Non-Metal

6.) OSM Landfills, Mines, Quarries

### On going work in LEL :

- Writing perfect documentation for integration of LEL .
- Integrating new LEL features with plots2 and mapknitter .
- Refreshing maps from API calls when panning/zooming .

### Cheers to Contributors and to people using LEL :P

There is increase in people contributing to LEL on github . Also the number of stars on github has also increased .

[![Screenshot_2018-12-20_at_12.01.28_PM.png](/i/28460)](/i/28460)

_28 stars :)_

There is sudden increase in weekly downloads of LEL on NPM as well :

[![Screenshot_2018-12-20_at_12.02.26_PM.png](/i/28461)](/i/28461)

_I would like to thank @warren , @stevie , @liz and PL community for constant support and help ._

**THANK YOU ALL !**

_Sagarpreet Chadha_