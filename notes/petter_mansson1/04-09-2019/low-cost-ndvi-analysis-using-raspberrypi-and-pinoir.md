---
title: "Low cost NDVI analysis using RaspberryPi and PiNoIR"\ntagnames: 'ndvi, raspberry-pi, infragram, colormap, ndvi-calibrate, pi-camera, pinoir, activity:infragram, activity:ndvi, replication:15075, first-time-poster, infragram-pi, lat:55.604981, lon:13.003822, activity:infragram-pi, pin:activity:ndvi, pin:activity:infragram, pin:activity:infragram-pi'
author: petter_mansson1
path: /notes/petter_mansson1/04-09-2019/low-cost-ndvi-analysis-using-raspberrypi-and-pinoir.md
nid: 19007
uid: 573015

---

![](https://publiclab.org/public/system/images/photos/000/031/764/original/ndvi_2019-4-20-16-0-5.png)

# Low cost NDVI analysis using RaspberryPi and PiNoIR

by [petter_mansson1](../profile/petter_mansson1) | April 09, 2019 11:34

April 09, 2019 11:34 | Tags: [ndvi](../tag/ndvi), [raspberry-pi](../tag/raspberry-pi), [infragram](../tag/infragram), [colormap](../tag/colormap), [ndvi-calibrate](../tag/ndvi-calibrate), [pi-camera](../tag/pi-camera), [pinoir](../tag/pinoir), [activity:infragram](../tag/activity:infragram), [activity:ndvi](../tag/activity:ndvi), [replication:15075](../tag/replication:15075), [first-time-poster](../tag/first-time-poster), [infragram-pi](../tag/infragram-pi), [lat:55.604981](../tag/lat:55.604981), [lon:13.003822](../tag/lon:13.003822), [activity:infragram-pi](../tag/activity:infragram-pi), [pin:activity:ndvi](../tag/pin:activity:ndvi), [pin:activity:infragram](../tag/pin:activity:infragram), [pin:activity:infragram-pi](../tag/pin:activity:infragram-pi)

----

This project is about conducting an Experiment to see if a PI NoIR camera is able to perform NDVI calculations.

An automated system has been built and the experiment is on week 2 out of 4\. When it's finished results will be shared and hopefully I will be able to share my code.

Please leave any questions as a comment and I will be glad to answer them.

Starting this post where I will publish my findings.

Expect results in around 1-2 months since this work is part of my Bachelor Thesis in computer science at Malm√∂ university.

![image description](/i/31336.png "preNDVI_2019-4-9-4-0-5.png")![image description](/i/31337.png "ndvi_2019-4-9-10-0-5.png")![image description](/i/31339.png "ndvi_2019-4-9-10-0-5(1).png")

1\. First image is the raw image from camera with custom white balance using a blue filter.

2\. Second image is the image without applied colormap. It can be considered as grayscale since its only 1 channel of 255 values.

3\. Third image is after a colormap has been applied. I'm currently using fastie's colormap.

Code is written in Python and fully automated process for collecting data. Pictures are taken 3 times a day.

As of now I'm scaling the images from 1920x1080 to 800x600 with Lancosz algorithm for interpolation. The reason being for noise reduction, smaller storage size and faster calculation time.

After processing the images on the raspberry pi I upload them to google drive.

I have tried to create a process for automated data collection to see if I can correlate NDVI values to values generated by the environment. If so one might be able to use NDVI values or another "color based index approach" for monitoring plant health [1].

Plants grown are from left to right Mixed Lettuce, Tatsoi, Australische Gele.

The experiment is conducted on the propagation stage of plants for Hydroponic farming.

Two separate containers has been setup with the same plants in both. The dependent variable is that a 3 part nutrient solution has been added since day one to one of the containers and I will plot differences in NDVI value between the two containers.

Checkout github repo here: [https://github.com/PiddePannkauga/ndviMachine](https://github.com/PiddePannkauga/ndviMachine)

Only intended for users who are comfortable with Python environment. Some editing of the code needs to be done to suit personal use but hopefully it will serve someone with ideas. I will look into adding better documentation but you can always reach me in the comment section here.![image description](/i/31763.png "MeanBothLines.png")

This graph represents the mean of NDVI values from each day during the experiment. One day is the composite of pictures taken at 6am, 12pm, 6pm. Only values between 0.28-0.9 are used since they tend to be plant pixels. Interesting results since I added nutrients from day 0 in one of the growboxes. From this graph it seems like the nutrient solution started taking effect from day 9 where the trend is shifting between the two growboxes.

**Reference**

[1] Esmael Hamuda, Martin Glavin, and Edward Jones. A survey of image processing
techniques for plant extraction and segmentation in the field. Computers and Electronics in Agriculture, 125:184--199, July 2016\. \*\*  
\*\*